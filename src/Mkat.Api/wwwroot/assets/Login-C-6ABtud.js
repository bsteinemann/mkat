import{o as p,f as h,r as t,j as e,B as f,af as y}from"./index-fQZ-U2x6.js";import{I as o}from"./input-BJMnUOvO.js";import{L as l}from"./label-B2sNe2d1.js";import{A as j,a as g}from"./alert-C3YZIm6s.js";const v=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],N=p("circle-alert",v);function I(){const d=h(),[r,m]=t.useState(""),[c,u]=t.useState(""),[n,a]=t.useState(""),x=async s=>{s.preventDefault(),a("");const i=btoa(`${r}:${c}`);try{(await fetch(`${y()}/api/v1/services?page=1&pageSize=1`,{headers:{Authorization:`Basic ${i}`}})).ok?(localStorage.setItem("mkat_credentials",i),d({to:"/"})):a("Invalid credentials")}catch{a("Connection failed")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:e.jsxs("div",{className:"bg-card p-8 rounded-lg shadow-md w-full max-w-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"mkat"}),n&&e.jsxs(j,{variant:"destructive",className:"mb-4",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx(g,{children:n})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Username"}),e.jsx(o,{type:"text",value:r,onChange:s=>m(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Password"}),e.jsx(o,{type:"password",value:c,onChange:s=>u(s.target.value),required:!0})]}),e.jsx(f,{type:"submit",className:"w-full",children:"Login"})]})]})})}export{I as Login};

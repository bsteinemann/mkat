import{r as n,j as v,g as W,p as H,k as E,m as $,i as Y,h as z,v as Z}from"./index-fQZ-U2x6.js";import{c as q,u as J}from"./index-DPAcrdZo.js";function Q(e){const t=X(e),r=n.forwardRef((o,s)=>{const{children:c,...a}=o,u=n.Children.toArray(c),p=u.find(te);if(p){const d=p.props.children,l=u.map(I=>I===p?n.Children.count(d)>1?n.Children.only(null):n.isValidElement(d)?d.props.children:null:I);return v.jsx(t,{...a,ref:s,children:n.isValidElement(d)?n.cloneElement(d,void 0,l):null})}return v.jsx(t,{...a,ref:s,children:c})});return r.displayName=`${e}.Slot`,r}function X(e){const t=n.forwardRef((r,o)=>{const{children:s,...c}=r;if(n.isValidElement(s)){const a=re(s),u=oe(c,s.props);return s.type!==n.Fragment&&(u.ref=o?W(o,a):a),n.cloneElement(s,u)}return n.Children.count(s)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ee=Symbol("radix.slottable");function te(e){return n.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ee}function oe(e,t){const r={...t};for(const o in t){const s=e[o],c=t[o];/^on[A-Z]/.test(o)?s&&c?r[o]=(...u)=>{const p=c(...u);return s(...u),p}:s&&(r[o]=s):o==="style"?r[o]={...s,...c}:o==="className"&&(r[o]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}function re(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D=ne.reduce((e,t)=>{const r=Q(`Primitive.${t}`),o=n.forwardRef((s,c)=>{const{asChild:a,...u}=s,p=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(p,{...u,ref:c})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),_="rovingFocusGroup.onEntryFocus",se={bubbles:!1,cancelable:!0},F="RovingFocusGroup",[A,O,ie]=q(F),[ce,Ie]=$(F,[ie]),[ae,ue]=ce(F),j=n.forwardRef((e,t)=>v.jsx(A.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(A.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(le,{...e,ref:t})})}));j.displayName=F;var le=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:c,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:d,preventScrollOnEntryFocus:l=!1,...I}=e,S=n.useRef(null),C=Y(t,S),y=J(c),[w,i]=z({prop:a,defaultProp:u??null,onChange:p,caller:F}),[g,h]=n.useState(!1),m=Z(d),b=O(r),T=n.useRef(!1),[k,P]=n.useState(0);return n.useEffect(()=>{const f=S.current;if(f)return f.addEventListener(_,m),()=>f.removeEventListener(_,m)},[m]),v.jsx(ae,{scope:r,orientation:o,dir:y,loop:s,currentTabStopId:w,onItemFocus:n.useCallback(f=>i(f),[i]),onItemShiftTab:n.useCallback(()=>h(!0),[]),onFocusableItemAdd:n.useCallback(()=>P(f=>f+1),[]),onFocusableItemRemove:n.useCallback(()=>P(f=>f-1),[]),children:v.jsx(D.div,{tabIndex:g||k===0?-1:0,"data-orientation":o,...I,ref:C,style:{outline:"none",...e.style},onMouseDown:E(e.onMouseDown,()=>{T.current=!0}),onFocus:E(e.onFocus,f=>{const M=!T.current;if(f.target===f.currentTarget&&M&&!g){const N=new CustomEvent(_,se);if(f.currentTarget.dispatchEvent(N),!N.defaultPrevented){const x=b().filter(R=>R.focusable),U=x.find(R=>R.active),V=x.find(R=>R.id===w),B=[U,V,...x].filter(Boolean).map(R=>R.ref.current);L(B,l)}}T.current=!1}),onBlur:E(e.onBlur,()=>h(!1))})})}),G="RovingFocusGroupItem",K=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:c,children:a,...u}=e,p=H(),d=c||p,l=ue(G,r),I=l.currentTabStopId===d,S=O(r),{onFocusableItemAdd:C,onFocusableItemRemove:y,currentTabStopId:w}=l;return n.useEffect(()=>{if(o)return C(),()=>y()},[o,C,y]),v.jsx(A.ItemSlot,{scope:r,id:d,focusable:o,active:s,children:v.jsx(D.span,{tabIndex:I?0:-1,"data-orientation":l.orientation,...u,ref:t,onMouseDown:E(e.onMouseDown,i=>{o?l.onItemFocus(d):i.preventDefault()}),onFocus:E(e.onFocus,()=>l.onItemFocus(d)),onKeyDown:E(e.onKeyDown,i=>{if(i.key==="Tab"&&i.shiftKey){l.onItemShiftTab();return}if(i.target!==i.currentTarget)return;const g=pe(i,l.orientation,l.dir);if(g!==void 0){if(i.metaKey||i.ctrlKey||i.altKey||i.shiftKey)return;i.preventDefault();let m=S().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")m.reverse();else if(g==="prev"||g==="next"){g==="prev"&&m.reverse();const b=m.indexOf(i.currentTarget);m=l.loop?me(m,b+1):m.slice(b+1)}setTimeout(()=>L(m))}}),children:typeof a=="function"?a({isCurrentTabStop:I,hasTabStop:w!=null}):a})})});K.displayName=G;var fe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function de(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pe(e,t,r){const o=de(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return fe[o]}function L(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function me(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var Re=j,Ee=K;export{Ee as I,Re as R,Ie as c};

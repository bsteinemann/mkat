import{r as m,u,j as e,I as d}from"./index-fQZ-U2x6.js";import{u as p}from"./useQuery-BewFOG_L.js";import{u as x}from"./useMutation-BOTsmzZA.js";import{A as f,a as o}from"./AlertItem-xaGF1g_8.js";import{P as h}from"./Pagination-CR2eRW7k.js";import{S as a}from"./skeleton-C53g7VWF.js";import{A as j,a as g}from"./alert-C3YZIm6s.js";import"./types-wJsVDGZp.js";import"./badge-BqSicr3y.js";import"./formatDistanceToNow-BIWrupWh.js";function P(){const[r,l]=m.useState(1),i=u(),{data:t,isLoading:n}=p({queryKey:["alerts",r],queryFn:()=>o.list(r,20),refetchInterval:3e4}),c=x({mutationFn:s=>o.acknowledge(s),onSuccess:()=>i.invalidateQueries({queryKey:["alerts"]})});return n?e.jsxs("div",{className:"space-y-6",children:[e.jsx(a,{className:"h-8 w-24"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"h-16 w-full rounded-lg"}),e.jsx(a,{className:"h-16 w-full rounded-lg"}),e.jsx(a,{className:"h-16 w-full rounded-lg"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Alerts"}),t?.items.length===0?e.jsxs(j,{children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx(g,{children:"No alerts yet."})]}):e.jsx("div",{className:"space-y-3",children:t?.items.map(s=>e.jsx(f,{alert:s,onAcknowledge:()=>c.mutate(s.id)},s.id))}),t&&e.jsx(h,{page:r,totalCount:t.totalCount,pageSize:20,onPageChange:l})]})}export{P as Alerts};

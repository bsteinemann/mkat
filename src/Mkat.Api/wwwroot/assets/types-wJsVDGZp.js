import{af as o}from"./index-fQZ-U2x6.js";function u(){return`${o()}/api/v1`}class i extends Error{constructor(s,n,e,t){super(e),this.status=s,this.code=n,this.details=t}get userMessage(){if(this.details){const s=Object.values(this.details).flat();if(s.length>0)return s.join(". ")}return this.message}}function c(){const a=localStorage.getItem("mkat_credentials");if(!a)throw new i(401,"UNAUTHORIZED","Not authenticated");return`Basic ${a}`}async function r(a,s,n){const e=await fetch(`${u()}${s}`,{method:a,headers:{"Content-Type":"application/json",Authorization:c()},body:n?JSON.stringify(n):void 0});if(e.status===401)throw localStorage.removeItem("mkat_credentials"),window.location.href=`${o()}/login`,new i(401,"UNAUTHORIZED","Session expired");if(!e.ok){const t=await e.json().catch(()=>({error:"Unknown error"}));throw new i(e.status,t.code||"ERROR",t.error,t.details)}return e.status===204?{}:e.json()}function H(a,s){return a instanceof i?a.userMessage:s}const k={get:a=>r("GET",a),post:(a,s)=>r("POST",a,s),put:(a,s)=>r("PUT",a,s),delete:a=>r("DELETE",a)};var m=(a=>(a[a.Unknown=0]="Unknown",a[a.Up=1]="Up",a[a.Down=2]="Down",a[a.Paused=3]="Paused",a))(m||{}),d=(a=>(a[a.Webhook=0]="Webhook",a[a.Heartbeat=1]="Heartbeat",a[a.HealthCheck=2]="HealthCheck",a[a.Metric=3]="Metric",a))(d||{}),g=(a=>(a[a.Immediate=0]="Immediate",a[a.ConsecutiveCount=1]="ConsecutiveCount",a[a.TimeDurationAverage=2]="TimeDurationAverage",a[a.SampleCountAverage=3]="SampleCountAverage",a))(g||{}),f=(a=>(a[a.Failure=0]="Failure",a[a.Recovery=1]="Recovery",a[a.MissedHeartbeat=2]="MissedHeartbeat",a[a.FailedHealthCheck=3]="FailedHealthCheck",a))(f||{}),l=(a=>(a[a.Low=0]="Low",a[a.Medium=1]="Medium",a[a.High=2]="High",a[a.Critical=3]="Critical",a))(l||{}),w=(a=>(a[a.Telegram=0]="Telegram",a[a.Email=1]="Email",a))(w||{});export{f as A,w as C,d as M,m as S,g as T,l as a,k as b,H as g};
